<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaveesha Heshan - Software Engineer Portfolio</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- ✅ ADDED: Three.js -->
    <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f7fee7',
                            100: '#ecfccb',
                            200: '#d9f99d',
                            300: '#bef264',
                            400: '#a3e635',
                            500: '#84cc16',
                            600: '#65a30d',
                            700: '#4d7c0f',
                            800: '#3f6212',
                            900: '#365314',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        .gradient-text {
            background: linear-gradient(135deg, #84cc16, #a3e635);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .typing-text {
            display: inline-block;
            border-right: 3px solid #84cc16;
            animation: blink-caret 0.75s step-end infinite;
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #84cc16 }
        }

        .profile-image-container {
            position: relative;
            width: 256px;
            height: 256px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (min-width: 1024px) {
            .profile-image-container {
                width: 320px;
                height: 320px;
            }
        }

        .profile-border {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: #84cc16;
            z-index: 1;
        }

        .profile-image-inner {
            position: relative;
            width: calc(100% - 16px);
            height: calc(100% - 16px);
            background-color: #000;
            border-radius: 50%;
            overflow: hidden;
            z-index: 2;
        }

        body.light .profile-image-inner {
            background-color: #fff;
        }

        .profile-image-inner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>

<body class="bg-white dark:bg-black text-gray-900 dark:text-white transition-colors duration-300">

<nav class="fixed top-0 w-full bg-white/90 dark:bg-black/90 backdrop-blur-sm z-50 border-b border-gray-200 dark:border-gray-800">
    <!-- unchanged navbar -->
</nav>

<!-- ================= HOME ================= -->
<section id="home"
    class="relative min-h-screen flex items-center justify-center px-6 lg:px-8 pt-20 overflow-hidden">

    <!-- ✅ ADDED: Three.js background container -->
    <div id="three-bg" class="absolute inset-0 -z-10"></div>

    <div class="max-w-7xl mx-auto w-full">
        <div class="relative">
            <div class="absolute left-0 top-0 bottom-0 w-px bg-primary-600"></div>
            <div class="absolute left-0 top-8 w-3 h-3 rounded-full bg-primary-600"></div>

            <div class="pl-12 lg:pl-16">
                <div class="grid lg:grid-cols-2 gap-12 items-center">
                    <div>
                        <h1 class="text-5xl lg:text-7xl font-bold mb-8">
                            Hi, I'm <span class="gradient-text">Kaveesha Heshan</span>
                        </h1>

                        <p class="text-2xl lg:text-3xl text-gray-700 dark:text-gray-300 mb-8">
                            <span id="typing-text" class="typing-text"></span>
                        </p>
                    </div>

                    <div class="flex justify-center lg:justify-end">
                        <div class="profile-image-container">
                            <div class="profile-border"></div>
                            <div class="profile-image-inner">
                                <img src="asset/kaveesha.jpeg">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ALL OTHER SECTIONS BELOW ARE EXACTLY YOUR ORIGINAL CODE -->
<!-- about, education, projects, contact, footer, scripts -->

<!-- ================= THREE.JS GALAXY ================= -->
<script>
(function () {
    const container = document.getElementById("three-bg");
    if (!container) return;

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(
        60,
        window.innerWidth / window.innerHeight,
        1,
        1000
    );
    camera.position.z = 60;

    const renderer = new THREE.WebGLRenderer({
        alpha: true,
        antialias: true
    });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);

    const particleCount = 1200;
    const geometry = new THREE.BufferGeometry();
    const positions = new Float32Array(particleCount * 3);

    for (let i = 0; i < particleCount * 3; i += 3) {
        positions[i] = (Math.random() - 0.5) * 260;
        positions[i + 1] = (Math.random() - 0.5) * 160;
        positions[i + 2] = (Math.random() - 0.5) * 260;
    }

    geometry.setAttribute(
        "position",
        new THREE.BufferAttribute(positions, 3)
    );

    const material = new THREE.PointsMaterial({
        size: 1.3,
        color: 0xa3e635,
        transparent: true,
        opacity: 0.75,
        depthWrite: false
    });

    const points = new THREE.Points(geometry, material);
    scene.add(points);

    function animate() {
        points.rotation.y += 0.0007;
        points.rotation.x += 0.0003;
        renderer.render(scene, camera);
        requestAnimationFrame(animate);
    }
    animate();

    window.addEventListener("resize", () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });
})();
</script>

</body>
</html>
