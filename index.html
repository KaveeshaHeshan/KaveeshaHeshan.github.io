<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kaveesha Heshan - Software Engineer Portfolio</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

  <!-- Three.js -->
  <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {
              50:  '#eff6ff',
              100: '#dbeafe',
              200: '#bfdbfe',
              300: '#93c5fd',
              400: '#60a5fa',
              500: '#3b82f6',
              600: '#2563eb',
              700: '#1d4ed8',
              800: '#1e40af',
              900: '#1e3a8a',
            },
            secondary: {
              50:  '#faf5ff',
              100: '#f3e8ff',
              200: '#e9d5ff',
              300: '#d8b4fe',
              400: '#c084fc',
              500: '#a855f7',
              600: '#9333ea',
              700: '#7e22ce',
              800: '#6b21a8',
              900: '#581c87',
            }
          }
        }
      }
    }
  </script>

  <style>
    .gradient-text {
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .typing-text {
      border-right: 3px solid #a78bfa;
      animation: blink 0.75s step-end infinite;
      display: inline-block;
    }
    @keyframes blink { 50% { border-color: transparent; } }

    /* Social link icons */
    .social-icon {
      position: relative;
      z-index: 10;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .social-icon svg {
      pointer-events: none;
    }

    .profile-image-container {
      position: relative;
      width: 240px;
      height: 240px;
      border-radius: 50%;
      overflow: hidden;
      background: transparent;
      border: 3px solid rgba(255, 255, 255, 0.2);
      box-shadow: 
        0 10px 40px rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    @media (min-width: 768px) {
      .profile-image-container { width: 300px; height: 300px; }
    }
    @media (min-width: 1024px) {
      .profile-image-container { width: 340px; height: 340px; }
    }

    .profile-image-container:hover {
      transform: scale(1.05);
      box-shadow: 
        0 15px 50px rgba(0, 0, 0, 0.4),
        0 0 0 1px rgba(255, 255, 255, 0.2);
    }

    .profile-image-container:hover {
      transform: scale(1.03);
    }

    .profile-image-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      display: block;
    }

    #three-bg { pointer-events: none; }
    #three-bg canvas {
      position: absolute;
      inset: 0;
      width: 100% !important;
      height: 100% !important;
      pointer-events: none;
    }

    /* ✅ MOBILE MENU ANIMATION */
    #mobile-menu {
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transform: translateY(-10px);
      pointer-events: none;
      transition: max-height 350ms ease, opacity 250ms ease, transform 250ms ease;
    }
    #mobile-menu.menu-open {
      max-height: 420px;
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
    #mobile-menu .mobile-link {
      opacity: 0;
      transform: translateY(-6px);
      transition: opacity 250ms ease, transform 250ms ease;
    }
    #mobile-menu.menu-open .mobile-link {
      opacity: 1;
      transform: translateY(0);
    }

    /* ✅ REVEAL */
    .reveal {
      opacity: 0;
      transform: translateY(18px);
      transition: opacity .7s ease, transform .7s ease;
    }
    .reveal.show { opacity: 1; transform: translateY(0); }

    .reveal-stagger > * {
      opacity: 0;
      transform: translateY(12px);
      transition: opacity .6s ease, transform .6s ease;
    }
    .reveal.show .reveal-stagger > * { opacity: 1; transform: translateY(0); }

    /* ✅ EDUCATION STAGGER - Enhanced with 3D effects */
    .edu-stagger > * {
      opacity: 0;
      transform: translateY(40px) rotateX(15deg);
      transform-style: preserve-3d;
      perspective: 1000px;
      transition: opacity .8s cubic-bezier(0.34, 1.56, 0.64, 1), transform .8s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .reveal.show .edu-stagger > * { 
      opacity: 1; 
      transform: translateY(0) rotateX(0deg); 
    }
    .reveal.show .edu-stagger > *:nth-child(1) { transition-delay: 200ms; }
    .reveal.show .edu-stagger > *:nth-child(2) { transition-delay: 400ms; }
    .reveal.show .edu-stagger > *:nth-child(3) { transition-delay: 600ms; }
    .reveal.show .edu-stagger > *:nth-child(4) { transition-delay: 800ms; }
    .reveal.show .edu-stagger > *:nth-child(5) { transition-delay: 1000ms; }

    /* Timeline pulse animation */
    .edu-timeline {
      position: relative;
      animation: timelinePulse 3s ease-in-out infinite;
    }
    @keyframes timelinePulse {
      0%, 100% { opacity: 0.4; box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.4); }
      50% { opacity: 1; box-shadow: 0 0 20px 4px rgba(96, 165, 250, 0.3); }
    }

    /* Education card advanced effects */
    .edu-card {
      position: relative;
      transform-style: preserve-3d;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
    }

    .edu-card::before {
      content: '';
      position: absolute;
      inset: -2px;
      background: linear-gradient(135deg, rgba(96,165,250,0.3), rgba(167,139,250,0.3));
      border-radius: 0.5rem;
      opacity: 0;
      transition: opacity 0.5s ease;
      z-index: -1;
      filter: blur(10px);
    }

    .edu-card:hover {
      transform: translateY(-12px) scale(1.02) rotateX(5deg);
      border-color: rgba(96,165,250,0.6) !important;
      box-shadow: 0 25px 50px -12px rgba(96, 165, 250, 0.25), 
                  0 0 30px rgba(167, 139, 250, 0.2),
                  inset 0 1px 0 rgba(255,255,255,0.1);
    }

    .edu-card:hover::before {
      opacity: 1;
    }

    .edu-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.1), 
        transparent
      );
      transition: left 0.6s ease;
    }

    .edu-card:hover::after {
      left: 100%;
    }

    /* Education title animation */
    .edu-title {
      opacity: 0;
      transform: translateY(30px) scale(0.9);
      transition: opacity .9s cubic-bezier(0.34, 1.56, 0.64, 1), 
                  transform .9s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .reveal.show .edu-title {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Education subtitle */
    .edu-subtitle {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity .8s ease .15s, transform .8s ease .15s;
    }
    .reveal.show .edu-subtitle {
      opacity: 1;
      transform: translateY(0);
    }

    /* Timeline dot enhanced */
    .timeline-dot {
      opacity: 0;
      transform: scale(0) rotate(180deg);
      transition: all .6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    .reveal.show .timeline-dot {
      opacity: 1;
      transform: scale(1) rotate(0deg);
    }

    .timeline-dot::before {
      content: '';
      position: absolute;
      inset: -8px;
      border: 2px solid rgba(96, 165, 250, 0.3);
      border-radius: 50%;
      animation: ripple 2s infinite;
    }

    @keyframes ripple {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }

    /* Education text content animation */
    .edu-card h3 {
      transition: color 0.3s ease, transform 0.3s ease;
    }
    .edu-card:hover h3 {
      color: #60a5fa;
      transform: translateX(5px);
    }

    .edu-card ul li {
      transition: transform 0.3s ease, color 0.3s ease;
    }
    .edu-card:hover ul li {
      transform: translateX(8px);
      color: #e5e7eb;
    }

    /* ✅ ABOUT SECTION ANIMATIONS */
    .about-title {
      opacity: 0;
      transform: translateY(30px) scale(0.95);
      transition: opacity .8s ease, transform .8s ease;
    }
    .reveal.show .about-title {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .about-text {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity .7s ease .2s, transform .7s ease .2s;
    }
    .reveal.show .about-text {
      opacity: 1;
      transform: translateY(0);
    }

    .contact-item {
      opacity: 0;
      transform: translateX(-20px);
      transition: opacity .6s ease, transform .6s ease, background-color .3s ease;
      padding: 12px;
      border-radius: 8px;
    }
    .reveal.show .contact-item {
      opacity: 1;
      transform: translateX(0);
    }
    .reveal.show .contact-item:nth-child(1) { transition-delay: .3s; }
    .reveal.show .contact-item:nth-child(2) { transition-delay: .45s; }
    .reveal.show .contact-item:nth-child(3) { transition-delay: .6s; }

    .contact-item:hover {
      background-color: rgba(96, 165, 250, 0.1);
      transform: translateX(8px);
    }

    .contact-item i {
      transition: transform .3s ease, color .3s ease;
    }
    .contact-item:hover i {
      transform: scale(1.2) rotate(5deg);
      color: #60a5fa;
    }

    .skills-badge {
      opacity: 0;
      transform: translateY(20px) scale(0.9);
      transition: opacity .7s ease .75s, transform .7s ease .75s;
    }
    .reveal.show .skills-badge {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .skills-title {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity .7s ease .85s, transform .7s ease .85s;
    }
    .reveal.show .skills-title {
      opacity: 1;
      transform: translateY(0);
    }

    /* ✅ PROJECTS: MATCH IMAGE (single section + 3 cards) */
    .projects-grid > * {
      opacity: 0;
      transform: translateY(16px) scale(0.985);
      transition: opacity .7s ease, transform .7s ease, box-shadow .25s ease, border-color .25s ease;
      will-change: transform, opacity;
    }
    .reveal.show .projects-grid > * { opacity: 1; transform: translateY(0) scale(1); }
    .reveal.show .projects-grid > *:nth-child(1) { transition-delay: 0ms; }
    .reveal.show .projects-grid > *:nth-child(2) { transition-delay: 120ms; }
    .reveal.show .projects-grid > *:nth-child(3) { transition-delay: 240ms; }

    .project-card { position: relative; overflow: hidden; }
    .project-card::before {
      content: "";
      position: absolute;
      inset: -2px;
      background: radial-gradient(600px 220px at 10% 0%, rgba(96,165,250,0.18), transparent 60%),
                  radial-gradient(560px 220px at 90% 100%, rgba(167,139,250,0.14), transparent 60%);
      opacity: 0;
      transition: opacity .35s ease;
      pointer-events: none;
    }
    .project-card::after {
      content: "";
      position: absolute;
      top: -40%;
      left: -60%;
      width: 220%;
      height: 180%;
      background: linear-gradient(90deg,
        transparent 0%,
        rgba(96,165,250,0.10) 35%,
        rgba(167,139,250,0.10) 55%,
        transparent 75%
      );
      transform: translateX(-18%) rotate(10deg);
      opacity: 0;
      pointer-events: none;
    }
    .project-card:hover::before { opacity: 1; }
    .project-card:hover::after { opacity: 1; animation: projectSweep 1.2s ease forwards; }
    @keyframes projectSweep {
      from { transform: translateX(-18%) rotate(10deg); }
      to   { transform: translateX(18%) rotate(10deg); }
    }
    .project-card:hover { transform: translateY(-6px); box-shadow: 0 18px 55px rgba(0,0,0,0.35); }

    .project-thumb { position: relative; overflow: hidden; }
    .project-thumb::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg,
        rgba(96,165,250,0.10),
        rgba(167,139,250,0.10),
        rgba(96,165,250,0.10)
      );
      opacity: 0.35;
      transform: translateX(-20%);
      pointer-events: none;
    }
    .reveal.show .project-thumb::before { animation: thumbMove 3.8s ease-in-out infinite; }
    @keyframes thumbMove {
      0%, 100% { transform: translateX(-20%); }
      50%      { transform: translateX(20%); }
    }

    /* ✅ Placeholder header for projects with no image (like your screenshot) */
    .project-placeholder {
      background: linear-gradient(180deg, rgba(51, 65, 85, 0.85), rgba(30, 41, 59, 0.55));
    }

    .project-link { position: relative; }
    .project-link::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -3px;
      width: 0%;
      height: 2px;
      background: linear-gradient(90deg, rgba(96,165,250,0.9), rgba(167,139,250,0.9));
      transition: width .25s ease;
      border-radius: 999px;
    }
    .project-link:hover::after { width: 100%; }

    @media (prefers-reduced-motion: reduce) {
      .projects-grid > * { transition: none !important; transform: none !important; opacity: 1 !important; }
      .project-card::after, .project-thumb::before { animation: none !important; }
    }

    /* ✅ SKILLS MARQUEE */
    .skills-wrap{ margin-top: 22px; padding-top: 18px; border-top: 1px solid rgba(255,255,255,0.08); }
    .skills-row { display: grid; grid-template-columns: 130px 1fr; gap: 14px; align-items: center; margin-bottom: 14px; }
    @media (max-width: 768px) { .skills-row { grid-template-columns: 1fr; gap: 10px; } }
    .skills-row-title { font-size: 1rem; font-weight: 700; color: #e5e7eb; }
    .skills-marquee { position: relative; overflow: hidden; padding: 6px 0; border-radius: 14px; }
    .skills-marquee::before, .skills-marquee::after {
      content: ""; position: absolute; top: 0; bottom: 0; width: 52px; pointer-events: none; z-index: 2;
    }
    .skills-marquee::before { left: 0; background: linear-gradient(to right, rgba(0,0,0,1), rgba(0,0,0,0)); }
    .skills-marquee::after  { right: 0; background: linear-gradient(to left, rgba(0,0,0,1), rgba(0,0,0,0)); }
    .skills-track { display: flex; gap: 12px; width: max-content; will-change: transform; }

    .skill-pill {
      position: relative;
      min-width: 170px;
      height: 118px;
      border-radius: 999px;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(96,165,250,0.22);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);
      backdrop-filter: blur(10px);
      display: grid;
      place-items: center;
      text-align: center;
      overflow: hidden;
      transition: transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease;
    }
    .skill-pill:hover {
      transform: translateY(-6px);
      border-color: rgba(167,139,250,0.40);
      box-shadow: 0 0 32px rgba(96,165,250,0.18), 0 0 26px rgba(167,139,250,0.14);
    }
    .pill-glow {
      position: absolute;
      inset: -45%;
      background:
        radial-gradient(circle at 30% 22%, rgba(96,165,250,0.18), transparent 58%),
        radial-gradient(circle at 70% 55%, rgba(167,139,250,0.14), transparent 58%);
      filter: blur(10px);
      opacity: 1;
      transform: rotate(10deg);
    }
    .pill-icon {
      position: relative;
      z-index: 1;
      width: 46px;
      height: 46px;
      display: grid;
      place-items: center;
      color: #93c5fd;
      filter: drop-shadow(0 0 12px rgba(96,165,250,0.25));
    }
    .pill-icon svg { width: 34px; height: 34px; }
    .pill-text {
      position: relative;
      z-index: 1;
      margin-top: 8px;
      font-size: 0.95rem;
      font-weight: 800;
      color: #e5e7eb;
      letter-spacing: 0.2px;
    }
    @keyframes marquee-ltr { from { transform: translateX(-50%); } to { transform: translateX(0%); } }
    @keyframes marquee-rtl { from { transform: translateX(0%); } to { transform: translateX(-50%); } }
    .skills-marquee:hover .skills-track { animation-play-state: paused; }
    @media (prefers-reduced-motion: reduce) {
      .skills-track { animation: none !important; transform: translateX(0) !important; }
    }

    /* ✅ CV MODAL */
    .cv-modal { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; z-index: 9999; padding: 18px; }
    .cv-modal.open { display: flex; }
    .cv-modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.72); backdrop-filter: blur(6px); }
    .cv-modal-panel {
      position: relative;
      width: min(1050px, 96vw);
      height: min(85vh, 820px);
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(10,10,10,0.88);
      box-shadow: 0 30px 90px rgba(0,0,0,0.55);
    }
    .cv-modal-topbar { display: flex; align-items: center; justify-content: space-between; gap: 12px; padding: 12px 14px; border-bottom: 1px solid rgba(255,255,255,0.10); }
    .cv-modal-actions { display: flex; gap: 10px; flex-wrap: wrap; }
    .cv-btn {
      display: inline-flex; align-items: center; gap: 8px; padding: 10px 12px; border-radius: 12px;
      font-weight: 700; font-size: 14px; border: 1px solid rgba(255,255,255,0.14); background: rgba(255,255,255,0.06);
      transition: transform .18s ease, background .18s ease, border-color .18s ease;
    }
    .cv-btn:hover { transform: translateY(-2px); background: rgba(255,255,255,0.10); border-color: rgba(96,165,250,0.35); }
    .cv-btn-primary { border-color: rgba(37,99,235,0.6); background: rgba(37,99,235,0.25); }
    .cv-btn-primary:hover { background: rgba(37,99,235,0.35); }
    .cv-close {
      width: 40px; height: 40px; display: grid; place-items: center; border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14); background: rgba(255,255,255,0.06);
      transition: transform .18s ease, background .18s ease; cursor: pointer;
    }
    .cv-close:hover { transform: translateY(-2px); background: rgba(255,255,255,0.10); }
    .cv-frame-wrap { width: 100%; height: calc(100% - 58px); background: rgba(0,0,0,0.35); }
    .cv-frame { width: 100%; height: 100%; border: 0; }
  </style>
</head>

<body class="bg-white dark:bg-black text-gray-900 dark:text-white transition-colors duration-300">

  <!-- ================= NAVBAR ================= -->
  <nav class="fixed top-0 w-full bg-white/90 dark:bg-black/90 backdrop-blur-sm z-50 border-b border-gray-200 dark:border-gray-800">
    <div class="max-w-7xl mx-auto px-6 lg:px-8">
      <div class="flex justify-between items-center py-6">

        <!-- Logo -->
        <div class="flex items-center space-x-3">
          <div class="w-12 h-12 rounded-full overflow-hidden border-2 border-primary-600">
            <img src="asset/kaveesha.jpeg" alt="Kaveesha Heshan" class="w-full h-full object-cover">
          </div>
          <span class="text-xl font-bold">Kaveesha Heshan</span>
        </div>

        <!-- Desktop Menu -->
        <div class="hidden md:flex items-center space-x-8">
          <a href="#home" class="hover:text-primary-300 transition-colors">Home</a>
          <a href="#about" class="hover:text-primary-300 transition-colors">About</a>
          <a href="#education" class="hover:text-primary-300 transition-colors">Education</a>
          <a href="#projects" class="hover:text-primary-300 transition-colors">Projects</a>
          <a href="#contact" class="hover:text-primary-300 transition-colors">Contact</a>

          <!-- ✅ CV (desktop too) -->
          <a href="asset/KAVEESHA1.CV.pdf" class="hover:text-primary-300 transition-colors cv-open">CV</a>

          <button class="theme-toggle-btn p-2 rounded-lg hover:text-primary-300 transition-colors" aria-label="Toggle theme">
            <i class="theme-toggle-dark-icon hidden w-5 h-5" data-lucide="moon"></i>
            <i class="theme-toggle-light-icon w-5 h-5" data-lucide="sun"></i>
          </button>
        </div>

        <!-- Mobile Button -->
        <button id="mobile-menu-btn" class="md:hidden p-2" aria-label="Toggle menu" aria-expanded="false">
          <i id="icon-menu" data-lucide="menu" class="w-6 h-6"></i>
          <i id="icon-close" data-lucide="x" class="w-6 h-6 hidden"></i>
        </button>
      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="md:hidden pb-4">
        <div class="flex flex-col space-y-3">
          <a href="#home" class="mobile-link hover:text-primary-300 transition-colors">Home</a>
          <a href="#about" class="mobile-link hover:text-primary-300 transition-colors">About</a>
          <a href="#education" class="mobile-link hover:text-primary-300 transition-colors">Education</a>
          <a href="#projects" class="mobile-link hover:text-primary-300 transition-colors">Projects</a>
          <a href="#contact" class="mobile-link hover:text-primary-300 transition-colors">Contact</a>

          <a href="asset/KAVEESHA1.CV.pdf" class="mobile-link hover:text-primary-300 transition-colors cv-open">CV</a>

          <button class="theme-toggle-btn mobile-link hover:text-primary-300 transition-colors flex items-center space-x-2 py-1">
            <i class="theme-toggle-dark-icon hidden w-5 h-5" data-lucide="moon"></i>
            <i class="theme-toggle-light-icon w-5 h-5" data-lucide="sun"></i>
            <span>Toggle Theme</span>
          </button>
        </div>
      </div>

    </div>
  </nav>

  <!-- ================= HOME ================= -->
  <section id="home" class="relative min-h-screen flex items-center justify-center px-6 lg:px-8 pt-28 overflow-hidden">
    <div id="three-bg" class="absolute inset-0 -z-10"></div>

    <div class="relative z-10 max-w-7xl mx-auto w-full text-center">
      <!-- Main Content -->
      <div class="mb-12">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-normal text-white dark:text-white mb-3">
          Hello, I'm
        </h2>
        <h1 class="text-5xl md:text-7xl lg:text-8xl font-bold mb-10 leading-tight">
          <span class="gradient-text">Kaveesha Heshan</span>
        </h1>
        
        <p class="text-lg md:text-xl lg:text-2xl text-gray-300 dark:text-gray-300 max-w-4xl mx-auto leading-relaxed mb-8">
          A passionate <span class="text-cyan-400 font-semibold">Software Engineering Student</span> and 
          <span class="text-purple-400 font-semibold">Developer</span> who loves solving problems through 
          <span class="text-cyan-400 font-semibold">AI</span>, 
          <span class="text-purple-400 font-semibold">Web Development</span>, and 
          <span class="text-cyan-400 font-semibold">Cloud Computing</span>.
        </p>
      </div>

      <!-- Profile Image -->
      <div class="flex justify-center mb-12">
        <div class="profile-image-container">
          <img src="asset/me.jpeg" alt="Kaveesha Heshan">
        </div>
      </div>

      <!-- Social Links & CV -->
      <div class="flex flex-col items-center gap-8">
        <!-- Social Icons -->
        <div class="flex items-center gap-6">
          <a href="https://github.com/KaveeshaHeshan" 
             target="_blank" 
             rel="noopener noreferrer" 
             class="social-icon group relative w-14 h-14 flex items-center justify-center rounded-full bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 hover:border-cyan-400/50 hover:bg-cyan-400/10 transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-cyan-400/20">
            <i data-lucide="github" class="w-6 h-6 text-gray-300 group-hover:text-cyan-400 transition-colors"></i>
          </a>
          <a href="https://www.linkedin.com/in/kaveesha-heshan-me/" 
             target="_blank" 
             rel="noopener noreferrer" 
             class="social-icon group relative w-14 h-14 flex items-center justify-center rounded-full bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 hover:border-purple-400/50 hover:bg-purple-400/10 transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-purple-400/20">
            <i data-lucide="linkedin" class="w-6 h-6 text-gray-300 group-hover:text-purple-400 transition-colors"></i>
          </a>
        </div>

        <!-- Download CV Button -->
        <a href="asset/KAVEESHA.CV.pdf"
           class="group relative inline-flex items-center gap-3 px-10 py-4 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 border-2 border-cyan-400/30 text-gray-200 rounded-full hover:border-cyan-400 hover:from-cyan-500/20 hover:to-purple-500/20 transition-all duration-300 text-lg font-semibold cv-open hover:scale-105 hover:shadow-xl hover:shadow-cyan-400/20">
          <i data-lucide="download" class="w-5 h-5 text-cyan-400 group-hover:animate-bounce"></i>
          <span class="bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent">Download CV</span>
        </a>
      </div>
    </div>
  </section>

  <!-- ================= ABOUT ================= -->
  <section id="about" class="py-20 px-6 lg:px-8 reveal">
    <div class="max-w-7xl mx-auto">
      <h2 class="about-title text-4xl lg:text-5xl font-bold mb-12 text-center">
        <span class="gradient-text inline-block">About Me</span>
      </h2>

      <div class="reveal-stagger">
        <p class="about-text text-gray-700 dark:text-gray-300 text-lg mb-6 leading-relaxed">
          Results-driven Software Engineering undergraduate at SLIIT with comprehensive expertise in full-stack development and emerging technologies.
          Proficient in building scalable web applications using the MERN stack, cross-platform mobile solutions with React Native and Flutter,
          and implementing AI/ML capabilities in real-world projects. Experienced in IoT research and creating intuitive user experiences through
          Figma-based UI/UX design. Demonstrated ability to deliver user-focused digital solutions by combining strong technical foundations with
          problem-solving aptitude. Committed to continuous learning and applying research-driven approaches to develop innovative software solutions.
        </p>

        <div class="space-y-4 mb-10">
          <div class="contact-item flex items-center space-x-4">
            <i data-lucide="mail" class="w-6 h-6 text-primary-300"></i>
            <span class="text-gray-700 dark:text-gray-300">kaveesha.h927@gmail.com</span>
          </div>
          <div class="contact-item flex items-center space-x-4">
            <i data-lucide="map-pin" class="w-6 h-6 text-primary-300"></i>
            <span class="text-gray-700 dark:text-gray-300">Sri Lanka</span>
          </div>
          <div class="contact-item flex items-center space-x-4">
            <i data-lucide="phone" class="w-6 h-6 text-primary-300"></i>
            <span class="text-gray-700 dark:text-gray-300">+94 701452284</span>
          </div>
        </div>
      </div>

      <!-- ✅ Skills block -->
      <div class="skills-wrap">
        <div class="text-center">
          <span class="skills-badge inline-flex items-center justify-center gap-2 mb-4 px-4 py-1 text-sm rounded-full bg-primary-900/40 text-primary-200 border border-primary-900/60 mx-auto">
            ✨ What I Bring to the Table
          </span>

          <h3 class="skills-title text-3xl sm:text-4xl lg:text-5xl font-bold mb-10">
            How I Can Contribute & <span class="gradient-text">My Key Skills</span>
          </h3>
        </div>

        <!-- Frontend (RTL) -->
        <div class="skills-row">
          <div class="skills-row-head">
            <div class="skills-row-title">Frontend</div>
          </div>

          <div class="skills-marquee" data-direction="rtl" data-duration="18">
            <div class="skills-track">
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="braces"></i></div><div class="pill-text">JavaScript</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="code-2"></i></div><div class="pill-text">TypeScript</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="atom"></i></div><div class="pill-text">React</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="layers"></i></div><div class="pill-text">Next.js</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="paintbrush"></i></div><div class="pill-text">Tailwind CSS</div></div>
            </div>
          </div>
        </div>

        <!-- Backend (LTR) -->
        <div class="skills-row">
          <div class="skills-row-head">
            <div class="skills-row-title">Backend</div>
          </div>

          <div class="skills-marquee" data-direction="ltr" data-duration="20">
            <div class="skills-track">
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="server"></i></div><div class="pill-text">Node.js</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="git-branch"></i></div><div class="pill-text">Express</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="code"></i></div><div class="pill-text">Python</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="shield"></i></div><div class="pill-text">Django</div></div>
            </div>
          </div>
        </div>

        <!-- Databases (RTL) -->
        <div class="skills-row">
          <div class="skills-row-head">
            <div class="skills-row-title">Databases</div>
          </div>

          <div class="skills-marquee" data-direction="rtl" data-duration="19">
            <div class="skills-track">
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="database"></i></div><div class="pill-text">MongoDB</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="database-zap"></i></div><div class="pill-text">MySQL</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="hard-drive"></i></div><div class="pill-text">PostgreSQL</div></div>
            </div>
          </div>
        </div>

        <!-- Tools (LTR) -->
        <div class="skills-row">
          <div class="skills-row-head">
            <div class="skills-row-title">Tools</div>
          </div>

          <div class="skills-marquee" data-direction="ltr" data-duration="18">
            <div class="skills-track">
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="git-fork"></i></div><div class="pill-text">Git</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="box"></i></div><div class="pill-text">Docker</div></div>
              <div class="skill-pill"><div class="pill-glow"></div><div class="pill-icon"><i data-lucide="pen-tool"></i></div><div class="pill-text">Figma</div></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- ================= EDUCATION ================= -->
  <section id="education" class="py-20 px-6 lg:px-8 reveal">
    <div class="max-w-7xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="edu-title text-5xl lg:text-6xl font-bold mb-4">
          <span class="gradient-text inline-block">Academic Education</span>
        </h2>
        <p class="edu-subtitle text-gray-600 dark:text-gray-400 text-lg max-w-2xl mx-auto">
          My academic journey and continuous pursuit of knowledge in technology
        </p>
      </div>

      <div class="max-w-5xl mx-auto">
        <div class="relative edu-stagger">
          <div class="edu-timeline absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 w-px bg-gradient-to-b from-primary-500 via-secondary-500 to-primary-500"></div>

          <!-- Item 1 -->
          <div class="relative mb-20">
            <div class="grid md:grid-cols-2 gap-8 items-center">
              <div class="md:pr-16">
                <div class="edu-card bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm border border-gray-200 dark:border-gray-800 p-6 rounded-lg flex items-start gap-4">
                  <img src="asset/SLIITlogo.png" alt="SLIIT Logo" class="w-16 h-16 rounded-lg object-contain bg-white p-2 flex-shrink-0">
                  <div class="flex-1 text-left">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2 leading-relaxed">
                      BSc. (Hons) Information Technology<br>
                      Specialized in Software Engineering
                    </h3>
                    <h4 class="text-gray-600 dark:text-gray-400 mb-4">
                      Sri Lanka Institute of Information Technology (SLIIT)
                    </h4>
                    <ul class="text-gray-600 dark:text-gray-400 text-sm space-y-2">
                      <li></li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="hidden md:block"></div>
            </div>

            <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-20 flex flex-col items-center gap-3">
              <div class="timeline-dot relative w-4 h-4 bg-primary-500 rounded-full shadow-lg shadow-primary-500/50"></div>
              <span class="px-4 py-2 rounded-full text-gray-600 dark:text-gray-300 text-sm font-medium
                           bg-white/90 dark:bg-gray-900/90 border border-gray-200 dark:border-gray-700
                           backdrop-blur-md whitespace-nowrap shadow-lg">
                2022 - Present
              </span>
            </div>
          </div>

          <!-- Item 2 -->
          <div class="relative">
            <div class="grid md:grid-cols-2 gap-8 items-center">
              <div class="hidden md:block"></div>
              <div class="md:pl-16">
                <div class="edu-card bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm border border-gray-200 dark:border-gray-800 p-6 rounded-lg flex items-start gap-4">
                  <img src="asset/rahulalogo.png" alt="Rahula College Logo" class="w-16 h-16 rounded-full object-contain bg-white p-1 flex-shrink-0">
                  <div class="flex-1 text-left">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Advanced Level</h3>
                    <h4 class="text-gray-600 dark:text-gray-400 mb-4"> Rahula College Matara</h4>
                    <ul class="text-gray-600 dark:text-gray-400 text-sm space-y-2">
                      <li>•GCE Advanced Level (Commerce)</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-20 flex flex-col items-center gap-3">
              <div class="timeline-dot relative w-4 h-4 bg-secondary-500 rounded-full shadow-lg shadow-secondary-500/50"></div>
              <span class="px-4 py-2 rounded-full text-gray-600 dark:text-gray-300 text-sm font-medium
                           bg-white/90 dark:bg-gray-900/90 border border-gray-200 dark:border-gray-700
                           backdrop-blur-md whitespace-nowrap shadow-lg">
                2016 - 2019
              </span>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- ================= PROJECTS (✅ FIXED: ONLY ONE SECTION) ================= -->
  <section id="projects" class="py-20 px-6 lg:px-8 reveal">
    <div class="max-w-7xl mx-auto">
      <div class="text- mb-16">
        <h2 class="text-5xl lg:text-6xl font-bold mb-4">
          <span class="gradient-text inline-block">Projects</span>
        </h2>
        <p class="text-gray-600 dark:text-gray-400 text-lg max-w-2xl mx-">
          The following projects demonstrate my technical expertise and practical experience through real-world applications. Each project includes detailed descriptions with links to source code repositories and live demonstrations, highlighting my capability to tackle challenging problems, leverage diverse technology stacks, and deliver well-structured solutions from concept to deployment.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 projects-grid">

        <!-- Project 1 (with image) -->
        <div class="bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden hover:border-primary-600 transition-all project-card">
          <div class="h-48 bg-gray-100 dark:bg-gray-800 project-thumb">
            <img src="asset/myfin.png" alt="E-Commerce Platform Preview" class="w-full h-full object-cover" loading="lazy" />
          </div>

          <div class="p-6">
            <h5 class="text-xl font-semibold text-primary mb-3">Personal Finance Tracker<br>(Individual Project)</h5>
            <p class="text-gray-600 dark:text-gray-400 mb-4">
              Full-stack income and expense management application built with React, Node.js, Express.js, and MongoDB. Features include JWT authentication, RESTful API, interactive dashboard with analytics and charts, PDF report generation, and secure CRUD operations following MVC architecture.
            </p>

            <div class="flex flex-wrap gap-2 mb-5">
              <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">React</span>
              <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">Node.js</span>
              <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">MongoDB</span>

                <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">Express.js</span>
                 <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">Tailwind CSS</span>
            </div>

            <div class="flex items-center space-x-6">
             
              <a href="https://github.com/KaveeshaHeshan/my-finance" target="_blank" rel="noopener noreferrer" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 flex items-center project-link">
                <i data-lucide="github" class="w-4 h-4 mr-2"></i> Code
              </a>
            </div>
          </div>
        </div>

        <!-- Project 2 (no image - placeholder like your screenshot) -->

         <div class="bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden hover:border-primary-600 transition-all project-card">
          <div class="h-48 bg-gray-100 dark:bg-gray-800 project-thumb">
            <img src="asset/health.png" alt="E-Commerce Platform Preview" class="w-full h-full object-cover" loading="lazy" />
          </div>
        
          <div class="p-6">
            <h3 class="text-xl font-semibold text-primary-400 mb-3">Healthcare Appointment & video consultation Platform  </h3>
            <p class="text-gray-600 dark:text-gray-400 mb-4">
             Full-stack healthcare management application built with React, Node.js, Express.js, and MongoDB. Features include JWT authentication, role-based access control (Patient/Doctor/Admin), appointment scheduling with real-time availability, telemedicine video consultations, digital medical records management, prescription and lab result handling, billing/payment UI, admin analytics dashboard, and secure RESTful API following MVC architecture.
            </p>

            <div class="flex flex-wrap gap-2 mb-5">
              <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">React</span>
              <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">Node.js</span>
              <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">MongoDB</span>
               <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">Express.js</span>
                <span class="px-3 py-1 bg-primary-900/50 text-primary-400 rounded-full text-sm">Tailwind CSS</span>
            </div>

            <div class="flex items-center space-x-6">
             
              <a href="https://github.com/KaveeshaHeshan/CareSync-Health-Platform" target="_blank" rel="noopener noreferrer" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 flex items-center project-link">
                <i data-lucide="github" class="w-4 h-4 mr-2"></i> Code
              </a>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ================= CONTACT ================= -->
  <section id="contact" class="py-20 px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-4xl lg:text-5xl font-bold mb-12">
        <span class="gradient-text">Get In Touch</span>
      </h2>

      <div class="grid lg:grid-cols-2 gap-12">
        <div>
          <p class="text-gray-700 dark:text-gray-300 text-lg mb-8 leading-relaxed">
            Whether you have a project in mind, want to collaborate, or just want to say hello,
            I'd love to hear from you. Feel free to reach out through any of the channels below.
          </p>

          <div class="space-y-6">
            <div class="flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg">
              <i data-lucide="mail" class="w-6 h-6 text-primary-400"></i>
              <span class="text-gray-700 dark:text-gray-300">kaveesha.h927@gmail.com</span>
            </div>
            <div class="flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg">
              <i data-lucide="phone" class="w-6 h-6 text-primary-400"></i>
              <span class="text-gray-700 dark:text-gray-300">0701452284</span>
            </div>
            <div class="flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg">
              <i data-lucide="map-pin" class="w-6 h-6 text-primary-400"></i>
              <span class="text-gray-700 dark:text-gray-300">Sri Lanka</span>
            </div>
          </div>
        </div>

        <div>
          <form class="space-y-6">
            <div>
              <input type="text" placeholder="Name"
                class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-800 rounded-lg focus:border-primary-600 focus:outline-none text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400">
            </div>
            <div>
              <input type="email" placeholder="Email"
                class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-800 rounded-lg focus:border-primary-600 focus:outline-none text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400">
            </div>
            <div>
              <input type="text" placeholder="Subject"
                class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-800 rounded-lg focus:border-primary-600 focus:outline-none text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400">
            </div>
            <div>
              <textarea rows="5" placeholder="Message"
                class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-800 rounded-lg focus:border-primary-600 focus:outline-none text-gray-900 dark:text-white resize-none placeholder-gray-500 dark:placeholder-gray-400"></textarea>
            </div>
            <button type="submit" class="w-full bg-primary-600 hover:bg-primary-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors">
              Send Message
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <footer class="py-12 px-6 lg:px-8 border-t border-gray-200 dark:border-gray-800">
    <div class="max-w-7xl mx-auto text-center">
      <p class="text-gray-600 dark:text-gray-400 mb-6">
        Software Engineer passionate about creating innovative solutions
      </p>
      <div class="flex justify-center space-x-6 mb-6">
        <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-primary-400 transition-colors">
          <i data-lucide="github" class="w-6 h-6"></i>
        </a>
        <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-primary-400 transition-colors">
          <i data-lucide="linkedin" class="w-6 h-6"></i>
        </a>
        <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-primary-400 transition-colors">
          <i data-lucide="twitter" class="w-6 h-6"></i>
        </a>
      </div>
      <p class="text-gray-500">© 2024 Kaveesha Heshan. All rights reserved.</p>
    </div>
  </footer>

  <!-- ================= CV MODAL ================= -->
  <div id="cv-modal" class="cv-modal" aria-hidden="true">
    <div class="cv-modal-backdrop" data-cv-close></div>

    <div class="cv-modal-panel" role="dialog" aria-modal="true" aria-label="CV Preview">
      <div class="cv-modal-topbar">
        <div class="font-bold text-white">KAVEESHA1.CV.pdf</div>

        <div class="cv-modal-actions">
          <a id="cv-open-tab" class="cv-btn text-white" href="asset/KAVEESHA1.CV.pdf" target="_blank" rel="noopener">
            <i data-lucide="external-link" class="w-4 h-4"></i>
            Open in new tab
          </a>

          <a id="cv-download" class="cv-btn cv-btn-primary text-white" href="asset/KAVEESHA1.CV.pdf" download>
            <i data-lucide="download" class="w-4 h-4"></i>
            Download
          </a>

          <button class="cv-close text-white" type="button" data-cv-close aria-label="Close">
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>
      </div>

      <div class="cv-frame-wrap">
        <iframe id="cv-iframe" class="cv-frame" src="" title="CV Preview"></iframe>
      </div>
    </div>
  </div>

  <!-- ================= SCRIPTS ================= -->
  <script>
    lucide.createIcons();

    // Mobile menu animation + icon swap + stagger
    const mobileBtn = document.getElementById("mobile-menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");
    const iconMenu = document.getElementById("icon-menu");
    const iconClose = document.getElementById("icon-close");

    const mobileLinks = mobileMenu.querySelectorAll(".mobile-link");
    mobileLinks.forEach((el, idx) => { el.style.transitionDelay = `${idx * 60}ms`; });

    function setMenuOpen(open) {
      mobileBtn.setAttribute("aria-expanded", open ? "true" : "false");
      mobileMenu.classList.toggle("menu-open", open);
      iconMenu.classList.toggle("hidden", open);
      iconClose.classList.toggle("hidden", !open);
    }

    mobileBtn.addEventListener("click", () => {
      const isOpen = mobileMenu.classList.contains("menu-open");
      setMenuOpen(!isOpen);
    });

    mobileMenu.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener("click", () => setMenuOpen(false));
    });

    // Theme toggle
    const allThemeToggleBtns = document.querySelectorAll('.theme-toggle-btn');
    const allDarkIcons = document.querySelectorAll('.theme-toggle-dark-icon');
    const allLightIcons = document.querySelectorAll('.theme-toggle-light-icon');

    const setDarkTheme = () => {
      document.documentElement.classList.add('dark');
      localStorage.theme = 'dark';
      allDarkIcons.forEach(i => i.classList.add('hidden'));
      allLightIcons.forEach(i => i.classList.remove('hidden'));
      document.body.classList.remove('light');
    };

    const setLightTheme = () => {
      document.documentElement.classList.remove('dark');
      localStorage.theme = 'light';
      allDarkIcons.forEach(i => i.classList.remove('hidden'));
      allLightIcons.forEach(i => i.classList.add('hidden'));
      document.body.classList.add('light');
    };

    if (localStorage.theme === 'light') setLightTheme(); else setDarkTheme();

    allThemeToggleBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        if (document.documentElement.classList.contains('dark')) setLightTheme();
        else setDarkTheme();
        lucide.createIcons();
      });
    });

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        const target = document.querySelector(this.getAttribute('href'));
        if (!target) return;
        e.preventDefault();
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });

    // Scroll reveal
    (() => {
      const revealEls = document.querySelectorAll(".reveal");
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add("show");
        });
      }, { threshold: 0.15 });
      revealEls.forEach(el => io.observe(el));
    })();

    // Skills marquee
    (() => {
      const marquees = document.querySelectorAll(".skills-marquee");
      marquees.forEach((marquee) => {
        const track = marquee.querySelector(".skills-track");
        if (!track) return;

        if (!track.dataset.cloned) {
          track.innerHTML = track.innerHTML + track.innerHTML;
          track.dataset.cloned = "true";
        }

        const dir = marquee.getAttribute("data-direction") || "rtl";
        const duration = Number(marquee.getAttribute("data-duration") || 18);
        track.style.animation = `${dir === "ltr" ? "marquee-ltr" : "marquee-rtl"} ${duration}s linear infinite`;
      });
    })();

    // ✅ CV Modal open/close
    (() => {
      const CV_URL = "asset/KAVEESHA1.CV.pdf";

      const modal = document.getElementById("cv-modal");
      const iframe = document.getElementById("cv-iframe");
      const openTab = document.getElementById("cv-open-tab");
      const download = document.getElementById("cv-download");

      function openCV() {
        openTab.href = CV_URL;
        download.href = CV_URL;
        iframe.src = `${CV_URL}#view=FitH`;
        modal.classList.add("open");
        modal.setAttribute("aria-hidden", "false");
        lucide.createIcons();
      }

      function closeCV() {
        modal.classList.remove("open");
        modal.setAttribute("aria-hidden", "true");
        iframe.src = "";
      }

      document.querySelectorAll(".cv-open").forEach(a => {
        a.addEventListener("click", (e) => {
          if (e.ctrlKey || e.metaKey || e.shiftKey || e.button === 1) return;
          e.preventDefault();
          openCV();
        });
      });

      modal.querySelectorAll("[data-cv-close]").forEach(el => {
        el.addEventListener("click", closeCV);
      });

      window.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && modal.classList.contains("open")) closeCV();
      });
    })();
  </script>

  <!-- ✅ THREE.JS -->
  <script>
    (() => {
      const container = document.getElementById("three-bg");
      if (!container) return;

      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(60, 1, 1, 1000);
      camera.position.z = 80;

      const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      container.appendChild(renderer.domElement);

      const geometry = new THREE.BufferGeometry();
      const COUNT = 900;
      const positions = new Float32Array(COUNT * 3);

      for (let i = 0; i < COUNT * 3; i += 3) {
        positions[i] = (Math.random() - 0.5) * 200;
        positions[i + 1] = (Math.random() - 0.5) * 120;
        positions[i + 2] = (Math.random() - 0.5) * 200;
      }

      geometry.setAttribute("position", new THREE.BufferAttribute(positions, 3));

      const material = new THREE.PointsMaterial({
        color: 0xa78bfa,
        size: 1.1,
        opacity: 0.55,
        transparent: true,
        depthWrite: false
      });

      const points = new THREE.Points(geometry, material);
      scene.add(points);

      function resize() {
        const { width, height } = container.getBoundingClientRect();
        renderer.setSize(width, height, false);
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
      }

      resize();
      window.addEventListener("resize", resize);

      function animate() {
        points.rotation.y += 0.0004;
        points.rotation.x += 0.0002;
        renderer.render(scene, camera);
        requestAnimationFrame(animate);
      }
      animate();
    })();
  </script>

  <!-- Typing effect -->
  <script>
    const txt = document.getElementById("typing-text");
    const words = ["Software Engineer Undergraduate", "Full Stack Developer", "UI/UX Designer"];
    let i = 0, j = 0, d = false;

    (function type(){
      txt.textContent = words[i].substring(0, j);
      d ? j-- : j++;
      if (j === words[i].length + 1) d = true;
      if (j === 0) { d = false; i = (i + 1) % words.length; }
      setTimeout(type, d ? 50 : 100);
    })();
  </script>

</body>
</html>
